{% extends 'base.html.twig' %}

{% block title %}Hello SliderController!
{% endblock %}

{% block body %}

	<div class="mb-20 container_fond_slider" style="background:linear-gradient(to top, #eeeeee, gainsboro 50%, #c7c3c3 81%);">
		<div id="carouselExampleCaptions" class="relative" data-te-carousel-init>

			<div class="absolute right-0 bottom-0 left-0 z-[2] mx-[15%] mb-4 flex list-none justify-center p-0" data-te-carousel-indicators>
				{% for key, domaine in domaines %}
					<button type="button" data-te-target="#carouselExampleCaptions" data-te-slide-to="{{ key }}" {% if loop.first %} data-te-carousel-active data-te-carousel-pause aria-current="true" {% endif %} class="mx-[3px] box-content h-[3px] w-[30px] flex-initial cursor-pointer bg-white bg-clip-padding p-0.5 -indent-[999px] opacity-50 transition-opacity duration-[800ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none" aria-label="Slide {{ key+1 }}"></button>
				{% endfor %}

			</div>

			<div class="relative overflow-hidden after:clear-both after:block after:content-['']">
				{% for key, domaine in domaines %}
					<div class="relative float-left {% if key == 0 %}-mr-[100%]{% else %}hidden{% endif %} h-128 w-2/3 transition-transform duration-[650ms] ease-in-out motion-reduce:transition-none" data-te-carousel-item {% if loop.first %} data-te-carousel-active {% endif %} style="backface-visibility: hidden">
						<img src="{{ asset('build/images/'~ domaine.image) }}" class="content-center" alt="...">
						<div class="content-center absolute bottom-5 hidden py-5 w-full text-white md:block">
							<h5 class="text-5xl content-center ">{{ domaine.titre }}</h5>
							<div class="flex justify-center">
								<a href="{{ path('app_formation', { 'domaine': domaine.id }) }}"><button type="button"  class=" mt-4 p-2 bg-tahiti-100 font-semibold rounded-lg shadow-md text-white hover:bg-white hover:text-tahiti-500 focus:outline-none focus:ring-2 focus:ring-black-400 focus:ring-opacity-75 bg-tahiti-100 text-tahiti-600 ">
									Infos
								</button></a>
							</div>
						</div>
					</div>
	  <button
    class="absolute top-0 bottom-0 left-0 z-[1] flex w-[15%] items-center justify-center border-0 bg-none p-0 text-center text-white opacity-50 transition-opacity duration-150 ease-[cubic-bezier(0.25,0.1,0.25,1.0)] hover:text-white hover:underline hover:opacity-90 hover:outline-none focus:text-white focus:no-underline focus:opacity-90 focus:outline-none motion-reduce:transition-none"
    type="button"
    data-te-target="#carouselExampleCaptions"
    data-te-slide="prev">
    <span class="inline-block h-8 w-8">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="4"
        stroke="currentColor"
        class="h-10 w-10">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.75 19.5L8.25 12l7.5-7.5" />
      </svg>
    </span>
    <span
      class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"
      >Previous</span
    >
  </button>
 <button
    class="absolute top-0 bottom-0 right-0 z-[1] flex w-[15%] items-center justify-center border-0 bg-none p-0 text-center text-white opacity-50 transition-opacity duration-150 ease-[cubic-bezier(0.25,0.1,0.25,1.0)] hover:text-white hover:no-underline hover:opacity-90 hover:outline-none focus:text-white focus:no-underline focus:opacity-90 focus:outline-none motion-reduce:transition-none "
    type="button"
    data-te-target="#carouselExampleCaptions"
    data-te-slide="next">
    <span class="inline-block h-8 w-8">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="4"
        stroke="currentColor"
        class="h-10 w-10">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M8.25 4.5l7.5 7.5-7.5 7.5" />
      </svg>
    </span>
    <span
      class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"
      >Next</span
    >
  </button>
				{% endfor %}

			</div>
		</div>
	</div>

{% endblock %}
{% block javascript %}
	<script>
		const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const carousel = document.getElementById('carouselExampleCaptions');
const items = carousel.querySelectorAll('.relative.float-left');
const images = [
"image1.jpg",
"image2.jpg",
"image3.jpg",
"image4.jpg",
"image5.jpg"
];

let currentItem = 0;

const imageElement = document.querySelector("#image");

function displayImage() {
imageElement.src = asset(domaines[currentItem].image);

}

function nextImage() {
let currentItem = images.indexOf(imageElement.src.split('/').pop());

displayImage();
}

function prevImage() {
currentIndex = (currentIndex - 1 + images.length) % images.length;
displayImage();
}

const prevButton = document.querySelector("#prev-btn");
prevButton.addEventListener("click", prevImage);

const nextButton = document.querySelector("#next-btn");
nextButton.addEventListener("click", nextImage);

displayImage();
prevBtn.addEventListener('click', () => {
items[currentItem].classList.remove('data-te-carousel-active');
items[currentItem].classList.add('hidden');
currentItem = (currentItem - 1 + items.length) % items.length;
items[currentItem].classList.remove('hidden');
items[currentItem].classList.add('data-te-carousel-active');
});

nextBtn.addEventListener('click', () => {
items[currentItem].classList.remove('data-te-carousel-active');
items[currentItem].classList.add('hidden');
currentItem = (currentItem + 1) % items.length;
items[currentItem].classList.remove('hidden');
items[currentItem].classList.add('data-te-carousel-active');
});
	</script>
{% endblock %}
